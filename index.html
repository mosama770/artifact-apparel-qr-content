<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Artifact Apparel - Wearable History</title>
    <!-- Load Tailwind CSS (Using Cache Buster ?v=4 to force fresh download) -->
    <script src="https://cdn.tailwindcss.com?v=4"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-navy': '#0A192F', // Deep Navy Blue (Premium background)
                        'secondary-sand': '#FFC72C', // Gold/Sandstone Accent
                        'tertiary-green': '#4CAF50', // Strong Eco Green
                        'bg-light': '#fefefe',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #f3f4f6;
        }
        .container-wrapper {
            max-width: 30rem;
            min-height: 100vh;
            background-color: #fefefe;
        }
        .text-shadow-light {
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.4);
        }
        .supply-step {
            display: flex;
            align-items: flex-start;
        }
        .supply-step-icon {
            color: #FFC72C;
            font-size: 1.5rem;
            margin-right: 1rem;
        }
    </style>
</head>
<body class="font-sans antialiased text-primary-navy">

    <div id="app" class="container-wrapper mx-auto shadow-2xl transition duration-500">
        
        <!-- Header & Branding -->
        <header class="p-6 bg-primary-navy text-white shadow-xl">
            <h1 class="text-2xl font-black tracking-wider uppercase">ARTIFACT APPAREL</h1>
            <p class="text-secondary-sand text-xs font-light mt-1">Wearable History. Ethical Thread.</p>
        </header>

        <!-- Product Image & Identifier Section (DYNAMIC HERO) -->
        <section class="relative">
            <div class="h-96 w-full overflow-hidden shadow-lg">
                <img id="product-image" 
                     src="https://placehold.co/800x960/0A192F/FFC72C?text=Loading+Artifact+Image" 
                     alt="Product Artifact Image" 
                     class="w-full h-full object-cover transition duration-500"
                     onerror="this.onerror=null; this.src='https://placehold.co/800x960/0A192F/FFC72C?text=IMAGE+ERROR';"
                     loading="lazy">
            </div>
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-6">
                <div class="text-white">
                    <h2 id="product-name" class="text-3xl font-extrabold mb-1 text-shadow-light">Product Name</h2>
                    <p class="text-xs font-mono text-secondary-sand tracking-widest">Artifact ID: <span id="artifact-id">Loading...</span></p>
                </div>
            </div>
        </section>

        <!-- Historical Content Section (DYNAMIC) -->
        <section class="p-6">
            <h3 class="text-xl font-bold mb-3 border-b-2 border-secondary-sand pb-2 flex items-center">
                <span class="mr-2 text-secondary-sand">‚ò•</span>
                The Historical Narrative
            </h3>
            <div class="space-y-4">
                <p id="design-story" class="text-gray-700 font-medium leading-relaxed">
                    Loading design story...
                </p>
                <div class="p-4 bg-gray-50 rounded-lg border-l-4 border-secondary-sand">
                    <p id="deep-dive" class="text-sm italic text-primary-navy">
                        Loading deep dive content...
                    </p>
                </div>
                <p id="image-context" class="text-xs text-gray-500 pt-2 text-center border-t border-gray-100">Loading image context...</p>
            </div>
        </section>

        <!-- Sustainability/Supply Chain Section (DYNAMIC) -->
        <section class="p-6 bg-tertiary-green/10">
            <h3 class="text-xl font-bold mb-4 border-b-2 border-tertiary-green pb-2 flex items-center text-tertiary-green">
                <span class="mr-2">üåç</span>
                Provenance & Ethical Commitment
            </h3>
            
            <!-- Key Sustainability Stats -->
            <div class="grid grid-cols-3 gap-2 text-center mb-6 p-3 bg-white rounded-lg shadow-inner">
                <div class="border-r border-gray-200">
                    <p id="water-saved" class="text-2xl font-extrabold text-tertiary-green">--</p>
                    <p class="text-xs text-gray-600 uppercase">Water Saved</p>
                </div>
                <div class="border-r border-gray-200">
                    <p id="material-type" class="text-2xl font-extrabold text-tertiary-green">--</p>
                    <p class="text-xs text-gray-600 uppercase">Core Material</p>
                </div>
                <div>
                    <p id="chemical-dyes" class="text-2xl font-extrabold text-tertiary-green">0%</p>
                    <p class="text-xs text-gray-600 uppercase">Toxic Dyes</p>
                </div>
            </div>

            <!-- Supply Chain Steps Mockup (Dynamically injected) -->
            <div id="supply-chain" class="space-y-4 pt-2">
                <!-- Content injected here -->
            </div>
        </section>
        
        <!-- Call to Action Footer -->
        <footer class="p-6 bg-primary-navy/90 text-white text-center">
            <h3 class="text-lg font-bold mb-3 text-secondary-sand">Explore The Full Collection</h3>
            <a href="#" class="block w-full text-center py-3 bg-secondary-sand text-primary-navy font-black rounded-xl shadow-lg hover:bg-yellow-300 transition duration-300 uppercase tracking-wider">
                Shop Artifact Apparel
            </a>
            <p class="text-xs text-gray-400 mt-4">Follow our journey: @ArtifactApparel</p>
        </footer>

    </div>

    <script>
        // --- 1. ARTIFACT DATA MODEL (The Content CMS) ---
        const artifactData = {
            'default': {
                productName: "Scan Your Artifact: Welcome to Artifact Apparel",
                artifactId: "AA-WELCOME-001",
                designStory: "This page is a dedicated digital gateway, designed to be accessed only via the unique QR code on your garment's tag. The code contains a key that unlocks this specific product's story and sustainable journey.",
                deepDive: "If you are seeing this message, you haven't scanned a product yet! Our mission is to connect ethical consumption with historical education. We use sustainable materials to create timeless apparel, each linked to an ancient story of power, balance, or creation.",
                imageText: "Welcome to Artifact Apparel. Scan your garment's tag to begin.",
                // Placeholder image for default state
                imageUrl: "https://placehold.co/800x960/0A192F/FFC72C?text=SCAN+YOUR+ARTIFACT", 
                waterSaved: "N/A",
                material: "N/A",
                chemicalDyes: "N/A",
                supplyChain: [
                    { step: "Locate Your Artifact", detail: "Find the small, discreet QR code on your garment's inner or hem tag." },
                    { step: "Scan & Unlock", detail: "Use your phone's camera to scan the code." },
                    { step: "Explore History", detail: "Instantly discover the deep historical narrative and the ethical path of your clothing." }
                ]
            },
            'tutankhamun': {
                productName: "The Tut's Legacy Tee | Hemp Blend",
                artifactId: "AA-EGY-TUT-2025",
                designStory: "The design features the **Feather of Ma'at**, the Egyptian goddess of truth, order, and justice. This reflects Tutankhamun's legacy of restoring order after his father's religious turmoil. Wearing this artifact is a commitment to balance and conscious action.",
                // IMPROVED STORY CONTENT
                deepDive: "Tutankhamun, the 'Boy King,' is a global symbol of rediscovery. His rise to power signaled a return to Egypt's traditional religious and political order. This restoration of balance mirrors our commitment to bringing **ecological balance** back to the fashion industry. The immense craftsmanship found in his tomb informs our approach: creating objects of lasting beauty and quality, not disposable trends.",
                imageText: "Tutankhamun's mask, symbolizing eternal craftsmanship and restoration of order.",
                // REAL IMAGE LINK (Wikimedia Commons)
                imageUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Tutankhamun_mask.jpg/800px-Tutankhamun_mask.jpg", 
                waterSaved: "80%",
                material: "Hemp Blend",
                chemicalDyes: "0%",
                supplyChain: [
                    { step: "Regenerative Farming", detail: "Hemp sourced from farms actively regenerating soil health in the Mediterranean basin, requiring minimal water." },
                    { step: "Ethical Processing", detail: "Fibers processed and spun into thread in a certified Fair Labor facility in Italy." },
                    { step: "Low-Impact Printing", detail: "Printed with water-based, non-toxic inks by our carbon-neutral partner in Tunisia." },
                    { step: "Packaging", detail: "Delivered in 100% recycled, compostable shipping materials." }
                ]
            },
            'ramesses': {
                productName: "The Ramesses Power Tee | Organic Cotton",
                artifactId: "AA-EGY-RAM-2025",
                designStory: "This print is inspired by the monumental **Khepresh Crown** and the colossal, enduring statues of **Ramesses II**. It symbolizes strength, longevity, and permanence. This piece is built to be a permanent, enduring artifact in your modern wardrobe.",
                // IMPROVED STORY CONTENT
                deepDive: "Ramesses the Great reigned for an unprecedented 66 years, constructing massive temples that survive 3,000 years later. His legacy is one of **immense stability and quality**‚Äîvalues directly opposed to fast fashion. By using GOTS-certified organic cotton and a durable construction, we aim to match the longevity of his monuments, ensuring your garment is built for a minimum 5-year wear cycle.",
                imageText: "Colossal Statue of Ramesses II, symbolizing permanence and stability.",
                // REAL IMAGE LINK (Wikimedia Commons)
                imageUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Ramesses_II_at_Abu_Simbel.jpg/800px-Ramesses_II_at_Abu_Simbel.jpg",
                waterSaved: "75%",
                material: "Organic Cotton",
                chemicalDyes: "0%",
                supplyChain: [
                    { step: "Organic Fiber Sourcing", detail: "100% GOTS-certified organic cotton from rain-fed farms in the Aegean region, minimizing reliance on irrigation." },
                    { step: "Zero-Waste Knitting", detail: "Fabric knitted in a certified zero-waste facility in Portugal." },
                    { step: "Detailing & Finishing", detail: "Printed using non-toxic, Azo-free dyes. Hand-finished tags made from recycled paper." },
                    { step: "Longevity Pledge", detail: "Product designed for durability, promoting a mindset of 'slow fashion'." }
                ]
            }
        };

        // --- 2. DYNAMIC CONTENT LOADING FUNCTIONS ---

        function updateSupplyChain(steps) {
            const container = document.getElementById('supply-chain');
            container.innerHTML = ''; 

            steps.forEach((item, index) => {
                const stepElement = document.createElement('div');
                stepElement.className = 'supply-step';
                stepElement.innerHTML = `
                    <span class="supply-step-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                            <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" clip-rule="evenodd" />
                        </svg>
                    </span>
                    <div class="flex-1">
                        <p class="font-semibold text-primary-navy">${item.step}</p>
                        <p class="text-sm text-gray-600">${item.detail}</p>
                    </div>
                `;
                container.appendChild(stepElement);
            });
        }

        function loadContent(key) {
            const data = artifactData[key];
            
            if (!data) {
                // If the key is invalid or missing, fallback to the default content
                console.error(`Artifact key '${key}' not found. Loading default.`);
                key = 'default';
                return loadContent('default');
            }

            // Update Text Content
            document.getElementById('page-title').textContent = `Artifact Apparel - ${data.productName}`;
            document.getElementById('product-name').textContent = data.productName;
            document.getElementById('artifact-id').textContent = data.artifactId;
            document.getElementById('design-story').innerHTML = data.designStory;
            document.getElementById('deep-dive').innerHTML = `**Historical Deep Dive:** ${data.deepDive}`;
            document.getElementById('image-context').textContent = data.imageText;
            
            // Update Image
            const imgElement = document.getElementById('product-image');
            imgElement.src = data.imageUrl;
            imgElement.alt = data.imageText;

            // Update Sustainability Stats
            document.getElementById('water-saved').textContent = data.waterSaved;
            document.getElementById('material-type').textContent = data.material;
            document.getElementById('chemical-dyes').textContent = data.chemicalDyes;
            
            // Update Supply Chain Steps
            updateSupplyChain(data.supplyChain);
        }

        function loadContentFromHash() {
            // 1. Determine the King/Artifact ID from the URL hash
            const hash = window.location.hash.substring(1); // Removes the '#'
            const params = new URLSearchParams(hash);
            let key = params.get('king'); 
            
            // 2. If no key is found or if the key is invalid, load the default welcome screen
            if (!key || !artifactData[key]) {
                 key = 'default';
            }

            // 3. Load content based on the final key
            loadContent(key);
        }

        // --- 3. EVENT LISTENERS ---

        // Load content on initial page load
        window.onload = loadContentFromHash; 
        
    </script>
</body>
</html>